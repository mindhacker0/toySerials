<html>
    <head>
        <meta charset="utf-8">
        <style>
            .wrapper .graph{
                padding: 20px;
                display: flex;
            }
            .outer{
                height:200px;
                width: 100px;
                border: 1px solid #ccc;
                position: relative;
            }
            .inner{
                background: linear-gradient(217deg, rgba(255,0,0,.8), rgba(255,0,0,0) 70.71%),
                linear-gradient(127deg, rgba(0,255,0,.8), rgba(0,255,0,0) 70.71%),
                linear-gradient(336deg, rgba(0,0,255,.8), rgba(0,0,255,0) 70.71%);
                width: 100%;
                height: 0px;
                transition: all .5s;
                position: absolute;
                bottom: 0;
                left: 0;
            }
        </style>
    </head>
    <body>
        <div class="wrapper">
            <div><input id="stext"/></div>
            <div class="graph">
                <div>
                    <!-- 样式 -->
                    <div class="outer">
                        <div class="inner" id="inner"></div>
                    </div>
                </div>
                <div>
                    <div class="outer">
                        <canvas width="1000" height="2000" id="oscilloscope"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.6.0/echarts.min.js" integrity="sha512-XSmbX3mhrD2ix5fXPTRQb2FwK22sRMVQTpBP2ac8hX7Dh/605hA2QDegVWiAvZPiXIxOV0CbkmUjGionDpbCmw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script>

// 初始化图表
const chartDom = document.getElementById('oscilloscope');
const myChart = echarts.init(chartDom);

// 初始数据（模拟正弦波）
let data = [];
for (let i = 0; i < 100; i++) {
    data.push(Math.sin(i / 5) * 10);
}

// 配置项
const option = {
    title: { text: '示波器模拟' },
    tooltip: { trigger: 'axis' },
    xAxis: {
        type: 'category',
        data: Array.from({ length: 100 }, (_, i) => i),
        axisLabel: { show: false } // 隐藏X轴标签
    },
    yAxis: { type: 'value', scale: true },
    series: [{
        name: '波形',
        type: 'line',
        showSymbol: false, // 隐藏数据点
        data: data,
        lineStyle: { color: '#00FF00' }, // 经典示波器绿色
        areaStyle: { color: 'rgba(0, 255, 0, 0.1)' } // 可选：填充区域
    }],
    animation: false // 禁用初始动画
};
myChart.setOption(option);

// 模拟实时数据更新
let timeIndex = 100;
setInterval(() => {
    const newValue = Math.sin(timeIndex / 5) * 10 + Math.random() * 2; // 添加噪声
    data.shift(); // 移除第一个数据点
    data.push(newValue); // 追加新数据
    timeIndex++;

    // 动态更新（高性能方式）
    myChart.setOption({
        series: [{ data: data }],
        xAxis: { data: Array.from({ length: 100 }, (_, i) => timeIndex - 100 + i) }
    });
}, 50); // 50ms 更新一次
            
        </script>
    </body>
</html>